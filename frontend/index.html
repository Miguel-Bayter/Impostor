<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Juego Impostor - Un juego social donde debes descubrir qui√©n es el impostor">
    <title>Juego Impostor</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Mensaje de error global -->
    <div id="global-error" class="global-error" style="display: none;" role="alert"></div>

    <!-- Pantalla de Autenticaci√≥n -->
    <section id="screen-auth" class="screen">
        <div class="container">
            <h1 class="title">üéÆ Juego Impostor</h1>
            <p class="subtitle">Inicia sesi√≥n o reg√≠strate para jugar</p>
            
            <form id="auth-form" class="form-container">
                <div id="auth-mode" data-mode="login">
                    <div id="auth-username-field" class="form-group" style="display: none;">
                        <label for="auth-username">Nombre de Usuario:</label>
                        <input 
                            type="text" 
                            id="auth-username" 
                            name="auth-username" 
                            placeholder="nombre_usuario"
                            required
                            aria-label="Nombre de usuario"
                        >
                    </div>
                    
                    <div class="form-group">
                        <label for="auth-email">Email:</label>
                        <input 
                            type="email" 
                            id="auth-email" 
                            name="auth-email" 
                            placeholder="usuario@ejemplo.com"
                            required
                            aria-label="Email"
                        >
                    </div>
                    
                    <div class="form-group">
                        <label for="auth-password">Contrase√±a:</label>
                        <input 
                            type="password" 
                            id="auth-password" 
                            name="auth-password" 
                            placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
                            required
                            aria-label="Contrase√±a"
                        >
                    </div>
                    
                    <button type="submit" id="auth-submit" class="btn btn-primary">Iniciar Sesi√≥n</button>
                    <button type="button" id="auth-toggle" class="btn btn-secondary">¬øNo tienes cuenta? Reg√≠strate</button>
                </div>
            </form>
        </div>
    </section>

    <!-- Pantalla de Salas -->
    <section id="screen-rooms" class="screen">
        <div class="container">
            <h1 class="title">üè† Salas de Juego</h1>
            <p class="subtitle">Crea una nueva sala o √∫nete a una existente</p>
            
            <div class="rooms-section">
                <div class="create-room-section">
                    <h2>Crear Nueva Sala</h2>
                    <form id="create-room-form" class="form-container">
                        <div class="form-group">
                            <label for="room-name">Nombre de la Sala:</label>
                            <input 
                                type="text" 
                                id="room-name" 
                                name="room-name" 
                                placeholder="Mi Sala"
                                aria-label="Nombre de la sala"
                            >
                        </div>
                        
                        <div class="form-group">
                            <label for="room-min-players">Jugadores M√≠nimos:</label>
                            <input 
                                type="number" 
                                id="room-min-players" 
                                name="room-min-players" 
                                min="3" 
                                max="8" 
                                value="3"
                                aria-label="Jugadores m√≠nimos"
                            >
                        </div>
                        
                        <div class="form-group">
                            <label for="room-max-players">Jugadores M√°ximos:</label>
                            <input 
                                type="number" 
                                id="room-max-players" 
                                name="room-max-players" 
                                min="3" 
                                max="8" 
                                value="8"
                                aria-label="Jugadores m√°ximos"
                            >
                        </div>
                        
                        <div class="form-group">
                            <label for="room-num-impostors">N√∫mero de Impostores:</label>
                            <input 
                                type="number" 
                                id="room-num-impostors" 
                                name="room-num-impostors" 
                                min="1" 
                                max="3" 
                                value="1"
                                aria-label="N√∫mero de impostores"
                            >
                        </div>
                        
                        <button type="submit" class="btn btn-primary">Crear Sala</button>
                    </form>
                </div>
                
                <div class="join-room-section">
                    <h2>Unirse a Sala</h2>
                    <form id="join-room-form" class="form-container">
                        <div class="form-group">
                            <label for="join-room-id">ID de Sala:</label>
                            <input 
                                type="text" 
                                id="join-room-id" 
                                name="join-room-id" 
                                placeholder="ABC123"
                                maxlength="6"
                                style="text-transform: uppercase;"
                                aria-label="ID de sala"
                            >
                        </div>
                        <button type="submit" class="btn btn-primary">Unirse</button>
                    </form>
                </div>
                
                <div class="available-rooms-section">
                    <div class="section-header">
                        <h2>Salas Disponibles</h2>
                        <button id="btn-refresh-rooms" class="btn btn-secondary">Actualizar</button>
                    </div>
                    <div id="rooms-list" class="rooms-list">
                        <!-- Las salas se mostrar√°n aqu√≠ -->
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Pantalla de Espera en Sala -->
    <section id="screen-room-waiting" class="screen">
        <div class="container">
            <h1 class="title">üè† Sala de Juego</h1>
            
            <div id="room-info" class="room-info">
                <!-- La informaci√≥n de la sala se mostrar√° aqu√≠ -->
            </div>
            
            <div class="players-section">
                <h2>Jugadores en la Sala</h2>
                <div id="room-players-list" class="players-list">
                    <!-- Los jugadores se mostrar√°n aqu√≠ -->
                </div>
            </div>
            
            <div class="button-group">
                <button id="btn-start-game" class="btn btn-primary" style="display: none;">Iniciar Juego</button>
                <button id="btn-leave-room" class="btn btn-secondary">Salir de la Sala</button>
            </div>
        </div>
    </section>

    <!-- Pantalla de Asignaci√≥n de Roles -->
    <section id="screen-roles" class="screen">
        <div class="container">
            <h2 class="title">üë• Asignaci√≥n de Roles</h2>
            <p class="subtitle">Cada jugador debe ver su rol y palabra secreta (si aplica)</p>
            
            <div id="roles-container" class="roles-grid">
                <!-- Los roles se generar√°n din√°micamente aqu√≠ -->
            </div>
            
            <div class="button-group">
                <button id="btn-continue-roles" class="btn btn-primary">Continuar</button>
            </div>
        </div>
    </section>

    <!-- Pantalla de Pistas (Turnos) -->
    <section id="screen-clues" class="screen">
        <div class="container">
            <h2 class="title">üß© Ronda de Pistas</h2>
            <p class="subtitle" id="clues-instructions">Es tu turno de dar una pista</p>
            
            <div class="current-turn-info">
                <div class="player-turn-card">
                    <h3 id="current-player-name">Jugador 1</h3>
                    <p id="current-player-role">Rol: Ciudadano</p>
                </div>
            </div>
            
            <div class="clues-section">
                <div class="clues-input-container">
                    <label for="clue-input">Tu pista:</label>
                    <input 
                        type="text" 
                        id="clue-input" 
                        placeholder="Escribe una palabra relacionada..."
                        maxlength="50"
                        aria-label="Ingresa tu pista"
                    >
                    <button id="btn-submit-clue" class="btn btn-primary">Enviar Pista</button>
                    <div id="clue-error" class="error-message" role="alert"></div>
                </div>
                
                <div class="clues-display">
                    <h3>Pistas dadas:</h3>
                    <div id="clues-list" class="clues-list">
                        <!-- Las pistas se mostrar√°n aqu√≠ -->
                    </div>
                </div>
            </div>
            
            <div class="button-group">
                <button id="btn-finish-clues" class="btn btn-secondary" style="display: none;">Finalizar Ronda</button>
            </div>
        </div>
    </section>

    <!-- Pantalla de Votaci√≥n -->
    <section id="screen-voting" class="screen">
        <div class="container">
            <h2 class="title">üó≥Ô∏è Fase de Votaci√≥n</h2>
            <p class="subtitle">Cada jugador vota qui√©n cree que es el impostor</p>
            
            <div class="voting-section">
                <div class="clues-review">
                    <h3>Pistas de la ronda:</h3>
                    <div id="voting-clues-list" class="clues-list">
                        <!-- Las pistas se mostrar√°n aqu√≠ -->
                    </div>
                </div>
                
                <div class="voting-options">
                    <h3>Jugadores activos:</h3>
                    <div id="voting-players" class="voting-grid">
                        <!-- Los jugadores para votar se mostrar√°n aqu√≠ -->
                    </div>
                </div>
            </div>
            
            <div class="button-group">
                <button id="btn-submit-vote" class="btn btn-primary" style="display: none;">Confirmar Voto</button>
            </div>
        </div>
    </section>

    <!-- Pantalla de Resultados -->
    <section id="screen-results" class="screen">
        <div class="container">
            <h2 class="title">üìä Resultados de la Votaci√≥n</h2>
            
            <div id="results-content" class="results-content">
                <!-- Los resultados se mostrar√°n aqu√≠ -->
            </div>
            
            <div class="button-group">
                <button id="btn-continue-game" class="btn btn-primary">Continuar Juego</button>
                <button id="btn-new-game" class="btn btn-secondary">Nuevo Juego</button>
            </div>
        </div>
    </section>

    <!-- Pantalla de Victoria -->
    <section id="screen-victory" class="screen">
        <div class="container">
            <h2 class="title victory-title" id="victory-title">üèÜ ¬°Victoria!</h2>
            
            <div id="victory-content" class="victory-content">
                <!-- El contenido de victoria se mostrar√° aqu√≠ -->
            </div>
            
            <div class="button-group">
                <button id="btn-play-again" class="btn btn-primary">Jugar de Nuevo</button>
            </div>
        </div>
    </section>

    <!-- Scripts -->
    <!-- Socket.io se cargar√° desde el backend cuando est√© disponible -->
    <script src="http://localhost:3000/socket.io/socket.io.js"></script>
    <script src="words.js"></script>
    <script src="socket-client.js"></script>
    <script src="game.js"></script>
</body>
</html>

